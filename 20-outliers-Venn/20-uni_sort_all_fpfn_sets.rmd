---
title: "NN Classiffication - Amino Acid Example"
author: "MCC"
date: "2/19/2020"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, fig.align = "center", cache = TRUE)
```

# Obtain uniquely sorted FP & FN from number sets

OR

# Generating Outliers and Venn Diagrams

## Introduction

One goal of this experiment is to determine if there are any patterns between the lists of ouutliers generated by PCA and the FP/FN generated when the machine learning models were carried out. To review quickly, the **Outliers** were produced by finding observations (in this case proteins, either myoglobin or control sets), which were greater than or equal to 3 stadnard deviations away from the of the first and second principal components. The *Outliers* were produced as can be seen in the flowchart below.

The logistic regression set included a total of x observations generated by 5 fold cross-validatioon


It is hoped that the *Outliers* generated from the PCA (unsupervised learning) will have some correlation to the 6 statisitcal learning methods investigated for this report.

```{r message=FALSE, warning=FALSE}
## Load Libraries
rm(list = ls())
Libraries = c("doMC", "knitr", "readr", "ggVennDiagram")

for(p in Libraries){  # Install Library if not present
    if(!require(p, character.only = TRUE)) { install.packages(p) }
    library(p, character.only = TRUE)
}
opts_chunk$set(cache = TRUE)
```

## Logit set
```{r message=FALSE, warning=FALSE}
keep <- "rowIndex"

fp_fn_logit <- read_csv("../00-data/03-ml_results/fp_fn_logit.csv")

logit_fp_fn_nums <- sort(unique(unlist(fp_fn_logit[, keep], use.names = FALSE)))

length(logit_fp_fn_nums)
logit_fp_fn_nums

write_csv(x = as.data.frame(logit_fp_fn_nums), 
          path = "../00-data/04-sort_unique_outliers/logit_nums.csv")
```

- The 'logistic regression set' included a total of 119 unique observations containing both FP and FN.

## Random Forest set
```{r message=FALSE, warning=FALSE}
fp_fn_r_forest <- read_csv("../00-data/03-ml_results/fp_fn_r_forest.csv")

r_forest_fp_fn_nums <- sort(unique(unlist(fp_fn_r_forest[, keep], use.names = FALSE)))

length(r_forest_fp_fn_nums)
r_forest_fp_fn_nums

write_csv(x = as.data.frame(r_forest_fp_fn_nums), 
          path = "../00-data/04-sort_unique_outliers/rf_nums.csv")
```

- The 'Random Forest set' included a total of 46 unique observations containing both FP and FN.

## SVM Linear set
```{r message=FALSE, warning=FALSE}
fp_fn_svm_linear <- read_csv("../00-data/03-ml_results/fp_fn_svm_linear.csv")

svm_linear_fp_fn_nums <- sort(unique(unlist(fp_fn_svm_linear[, keep], use.names = FALSE)))

length(svm_linear_fp_fn_nums)
svm_linear_fp_fn_nums

write_csv(x = as.data.frame(svm_linear_fp_fn_nums), 
          path = "../00-data/04-sort_unique_outliers/svm_lin_nums.csv")
```

- The 'SVM-Linear set' included a total of 125 unique observations containing both FP and FN.

## SVM Polynomial Kernel set
```{r message=FALSE, warning=FALSE}
fp_fn_svm_poly <- read_csv("../00-data/03-ml_results/fp_fn_svm_poly.csv")

svm_poly_fp_fn_nums <- sort(unique(unlist(fp_fn_svm_poly[, keep], use.names = FALSE)))

length(svm_poly_fp_fn_nums)
svm_poly_fp_fn_nums

write_csv(x = as.data.frame(svm_poly_fp_fn_nums), 
          path = "../00-data/04-sort_unique_outliers/svm_poly_nums.csv")
```

- The 'SVM-Polynomial Kernel set' included a total of 70 unique observations containing both FP and FN.

## SVM Radial Bias Kernel set
```{r message=FALSE, warning=FALSE}
fp_fn_svmRadialCost <- read_csv("../00-data/03-ml_results/fp_fn_svmRbf.csv")

svm_svmRadial_fp_fn_nums <- sort(unique(unlist(fp_fn_svmRadialCost[, keep], use.names = FALSE)))

length(svm_svmRadial_fp_fn_nums)
svm_svmRadial_fp_fn_nums

write_csv(x = as.data.frame(svm_svmRadial_fp_fn_nums),
          path = "../00-data/04-sort_unique_outliers/svm_rbf_nums.csv")
```

- The 'SVM-Polynomial Kernel set' included a total of 58 unique observations containing both FP and FN.

## NEED DEEP LEARNING set
```{r}
NNModel_fp_fn_nums <- read.csv("~/Dropbox/a1_mcc_project/05-ae-nn/NN_nums.csv", sep="")
```

- The 'DL set' included a total of X unique observations containing both FP and FN.

## Statistical Learning Method Vs Total Number of FP/FN

| Statistical Method            | Total Number Produced | Unique | Total/Unique |
| :---------------------------- | :-------------------: | :----: | :----------: |
| Principal Componnent Analysis |          461          |  460   |    1.002     |
| Logit                         |          537          |  119   |     4.51     |
| SVM Linear                    |          496          |  125   |     3.97     |
| SVM Polynomial                |          278          |   70   |     3.97     |
| SVM Radial Basis Function     |          244          |   58   |     4.21     |
| Random Forest                 |          190          |   46   |     4.13     |
| Deep Learning                 |          347          |  133   |     2.61     |

\newpage

## Venn Diagrams 

### SVM_RBF $\bigcap$ SVM_Poly $\bigcap$ RF

This will be known as the **Round** set.

- RF $\bigcap$ SVM_Poly $\bigcap$ SVM_RBF = 33
```{r}
round_set <- list(SVM_RBF = svm_svmRadial_fp_fn_nums,
                  SVM_Poly = svm_poly_fp_fn_nums,
                  RF = r_forest_fp_fn_nums)

ggVennDiagram(round_set)
```

\newpage

### Logit $\bigcap$ SVM_Lin

This will be known as the **Linear** set.

- Logit $\bigcap$ SVM_Lin = 105 
```{r}
linear_set <- list(Logit = logit_fp_fn_nums,
                   SVM_Lin = svm_linear_fp_fn_nums)
ggVennDiagram(linear_set) 
```

\newpage

### Find Intersecting numbers from *Round* Vs *Linear* sets

```{r}
round_v_linear <- intersect(round_set, linear_set)
length(round_v_linear)
round_v_linear
```

```{r}
x <- list(Rnd = round_set,
          Lin = linear_set)
ggVennDiagram(x) 
```

\newpage

############################ ??????????????????????
### Unique Round
```{r}
U_O_round_set <- unique(round_set)
U_O_round_set
```











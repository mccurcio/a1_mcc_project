---
title: "Outlier Collection"
author: "MCC"
output: html_document
---

# Outlier Collection

## Introduction

```{r message=FALSE, warning=FALSE}
## Load Libraries
Libraries = c("knitr", "readr")

for(p in Libraries){
    library(p, character.only = TRUE)
}
```

```{r include=FALSE}
# rm(list = ls())
opts_chunk$set(cache = TRUE)
```

Import data & data handling

*Obtain False-Positive (fp) & False-Negatives from sets:*

## NEED: write.table(c(df,df1),file="table.csv",col.names = c("A","B"),sep = ",",row.names = F)

## Logit set
```{r message=FALSE, warning=FALSE}
keep <- "rowIndex"

logit <- read_csv("../00-data/03-ml_results/fp_fn_logit.csv")

logit <- sort(unique(unlist(logit[, keep], use.names = FALSE)))

#logit_loads <- merge(x = logit_nums_copy, y = pc_1_2_values_copy, by = "rowNum")

write_csv(x = as.data.frame(logit), 
          path = "../00-data/04-ordered_unique_outliers/logit_nums.csv")

# write.table(c(df, df1),
#             file = "../00-data/04-ordered_unique_outliers/logit_nums.csv",
#             col.names = c("A","B"),
#             sep = ",",
#             row.names = F)



length(logit)
logit # Display numbers
```

## Random Forest set
```{r message=FALSE, warning=FALSE}
rf <- read_csv("../00-data/03-outliers/fp_fn_r_forest.csv")

rf <- sort(unique(unlist(rf[, keep], use.names = FALSE)))
write_csv(x = as.data.frame(rf), 
          path = "../00-data/04-ordered_unique_outliers/r_f_nums.csv")

length(rf)
rf # Display numbers
```

## SVM Linear set
```{r message=FALSE, warning=FALSE}
svm_lin <- read_csv("../00-data/03-outliers/fp_fn_svm_linear.csv")

svm_lin <- sort(unique(unlist(svm_lin[, keep], use.names = FALSE)))
write_csv(x = as.data.frame(svm_lin), 
          path = "../00-data/04-ordered_unique_outliers/svm_lin_nums.csv")

length(svm_lin)
svm_lin # Display numbers
```

## SVM Polynomial Kernel set
```{r message=FALSE, warning=FALSE}
svm_poly <- read_csv("../00-data/03-outliers/fp_fn_svm_poly.csv")

svm_poly <- sort(unique(unlist(svm_poly[, keep], use.names = FALSE)))
write_csv(x = as.data.frame(svm_poly), 
          path = "../00-data/04-ordered_unique_outliers/svm_poly_nums.csv")

length(svm_poly)
svm_poly # Display numbers
```

## SVM Radial Bias Function Kernel set
```{r message=FALSE, warning=FALSE}
svm_rbf <- read_csv("../00-data/03-outliers/fp_fn_svmRadialCost.csv")

svm_rbf <- sort(unique(unlist(svm_rbf[, keep], use.names = FALSE)))
write_csv(x = as.data.frame(svm_rbf), 
          path = "../00-data/04-ordered_unique_outliers/svm_rbf_nums.csv")

length(svm_rbf)
svm_rbf # Display numbers
```

## PCA_1_2_outlier set
```{r message=FALSE, warning=FALSE}
pca <- t(read_csv("../00-data/03-outliers/pca_1_2_outliers.csv"))

write_csv(x = as.data.frame(pca),
          path = "../00-data/04-ordered_unique_outliers/pca_nums.csv")

length(pca)
# pca # Display numbers
```

## NEEDS WORK

## FOR NEURAL NET outlier set 
```{r eval=FALSE, message=FALSE, warning=FALSE, include=FALSE}
auto_nn <- read_csv("../00-data/03-outliers/FOR NEURAL NET outliers.csv")
write_csv(x = as.data.frame(auto_nn), 
          path = "../00-data/04-ordered_unique_outliers/FOR NEURAL NET outlier.csv")

length(auto_nn)
auto_nn # Display numbers
```


## Prepare PCA loadings of PC1 and PC2 for all 2340 proteins
```{r echo=TRUE}
c_m_TRANSFORMED <- read_csv("../00-data/02-aac_dpc_values/c_m_TRANSFORMED.csv",
                            col_types = cols(Class = col_skip(),
                                             PID = col_skip(), 
                                             TotalAA = col_skip()))
# View(c_m_TRANSFORMED)

pca_values <- prcomp(c_m_TRANSFORMED, scale = TRUE)
pc_1_2_values <- cbind(1:2340, pca_values$x[,1], pca_values$x[,2])
dim(pc_1_2_values)

write_csv(x = as.data.frame(pc_1_2_values),
          path = "../00-data/04-ordered_unique_outliers/pc_1_2_values.csv")
```

df <- merge(x=df1,y=df2,by="CustomerId")

Inner-Join sets
```{r}
logit_loads <- merge(x = logit_nums_copy, y = pc_1_2_values_copy, by = "rowNum")
dim(logit_loads)

head(logit_loads)
```

```{r}
tail(logit_loads)
```






